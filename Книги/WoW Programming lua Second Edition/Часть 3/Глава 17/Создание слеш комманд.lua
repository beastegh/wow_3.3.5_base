"üìò –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥"

  –ò–≥—Ä–æ–∫–∏ –≤ World of Warcraft –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã. –ë—É–¥—å —Ç–æ /ignore Ikeelyou –∏–ª–∏ –ø–æ—Å–ø–µ—à–Ω–æ–µ /gquit –ø–æ—Å–ª–µ –Ω–∏–Ω–¥–∑—è-–ª—É—Ç–∞–Ω–∏—è –ö–µ–ª—å'–¢–∞—Å–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —É–±–∏–π—Å—Ç–≤–µ –≤ –≥–∏–ª—å–¥–∏–∏ ‚Äî –≤—Å—ë —ç—Ç–æ –ø—Ä–∏–º–µ—Ä—ã —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥.

  –ö–∞–∫ –∞–≤—Ç–æ—Ä –∞–¥–¥–æ–Ω–æ–≤, –≤—ã —á–∞—Å—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–ª–µ–∑–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞—Å—Ç–∞–≤–∏—Ç—å –∞–¥–¥–æ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ –≥–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

  –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥

  WoW –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥. –¢—Ä–µ–±—É—é—Ç—Å—è –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞: –Ω–∞–±–æ—Ä –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —Å–∞–º–∏—Ö –∫–æ–º–∞–Ω–¥ –∏ —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ. –í–æ—Ç –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:

    SLASH_FANCYPRINT1 = "/fancyprint"

    SlashCmdList["FANCYPRINT"] = function(msg)
      print("|cff11ff11" .. "Printed:|r " .. msg)
    end

  –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –≤–≤–µ–¥–∏—Ç–µ –≤ –æ–∫–Ω–æ —á–∞—Ç–∞:
    /fancyprint This is my first slash command!

  –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ: "This is my first slash command!", —Å –∑–µ–ª—ë–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "Printed".

  –¢–µ–ø–µ—Ä—å –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. WoW —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ –≤ —Ç–∞–±–ª–∏—Ü–µ SlashCmdList. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±–∏—Ä–∞–µ—Ç –∞–≤—Ç–æ—Ä –∞–¥–¥–æ–Ω–∞. –≠—Ç–∏ –∏–Ω–¥–µ–∫—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–º—ë–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

    SLASH_INDEXn

  –í –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ FANCYPRINT, –∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è ‚Äî SLASH_FANCYPRINT1. –ö–æ–≥–¥–∞ –≤—ã –≤–≤–µ–ª–∏ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—É, WoW –Ω–∞—á–∞–ª –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ SlashCmdList. –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—á–∏–Ω–∞–ª–∞ —Å—á—ë—Ç —Å 1 –∏ –ø—Ä–æ–≤–µ—Ä—è–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∞ –Ω–∞—à–ª–∞ SLASH_FANCYPRINT1, —Å–æ–≤–ø–∞–≤—à—É—é —Å –≤–≤–µ–¥—ë–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π, –±—ã–ª–∞ –≤—ã–∑–≤–∞–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ SlashCmdList, –∏ –µ–π –±—ã–ª–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤—Å—è –æ—Å—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã.

  –¢–∞–∫–∞—è —Å—Ö–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å. 
    üî∏–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–≤–µ–¥–∏—Ç–µ:
        SLASH_FANCYPRINT2 = "/fp"

  –ê –∑–∞—Ç–µ–º –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
    /fp I created a slash command alias

  –ò –≤—ã —Å–Ω–æ–≤–∞ —É–≤–∏–¥–∏—Ç–µ –≤—ã–≤–æ–¥ —Å —ç—Ç–∏–º —Ç–µ–∫—Å—Ç–æ–º. –ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–Ω–æ–Ω–∏–º–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥—ã. –≠—Ç–æ —Ç–∞–∫–∂–µ —É–¥–æ–±–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏.

  –ò—Ç–∞–∫, –∫–æ—Ä–æ—Ç–∫–∏–π —á–µ–∫–ª–∏—Å—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥:
    üîπ –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –æ–¥–∏–Ω —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä.
    üîπ –í—ã–±–µ—Ä–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∏–Ω–¥–µ–∫—Å–∞ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Å –∏–º–µ–Ω–µ–º –∞–¥–¥–æ–Ω–∞, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤) –∏ –¥–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ SlashCmdList.
    üîπ –°–æ–∑–¥–∞–π—Ç–µ –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö SLASH_INDEXn, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —Å–∞–º–∏ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã.

  –ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —Å–æ–∑–¥–∞—Ç—å —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—É ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ. –°–ª–æ–∂–Ω–µ–µ ‚Äî —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–µ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º. –í—Å—ë, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã, –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É –∫–∞–∫ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞. –ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º, –ø—Ä–∏–¥—ë—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ—Å—Ç—É—é —Ä–∞–∑–±–æ—Ä–∫—É —Å—Ç—Ä–æ–∫–∏ (–ø–∞—Ä—Å–∏–Ω–≥). –û—Å—Ç–∞–≤—à–∞—è—Å—è —á–∞—Å—Ç—å –≥–ª–∞–≤—ã –±—É–¥–µ—Ç –ø–æ—Å–≤—è—â–µ–Ω–∞ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º —Ç–µ—Ö–Ω–∏–∫–∞–º.

  üî•"–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï"
    –°–∏—Å—Ç–µ–º–∞ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫—ç—à –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤ —Ç–µ—á–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π —Å–µ—Å—Å–∏–∏, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç –º–∞–∫—Ä–æ—Å–æ–≤. –≠—Ç–æ —Ç–∞–∫–∂–µ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ SlashCmdList –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –≤–∞–º –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫—ç—à. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—É—é –≤–∞–º–∏ –∫–æ–º–∞–Ω–¥—É –≤ WowLua, –∑–∞—Ç–µ–º –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –∏ —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç, WoW –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ –∫–æ–º–∞–Ω–¥—ã.

    –í—ã –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω–µ—Ü —Å–∫—Ä–∏–ø—Ç–∞:
      wipe(hash_SlashCmdList)

    –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω—è–µ—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã —ç—Ç–æ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

    –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∫—ç—à–∞ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ —Ä–∞–º–∫–∏ —ç—Ç–æ–π –≥–ª–∞–≤—ã, –Ω–æ –æ–±—â–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ A. –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –∏–∑—É—á–∏—Ç—å –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –≤ —Ñ–∞–π–ª–µ:
      FrameXML\ChatFrame.lua.

"üìò –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫"

  –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏, –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ —Ç–æ–∫–µ–Ω–∞–º–∏, –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º. –û–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤ WoW ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –¥–ª—è –∏–≥—Ä—ã —Ñ—É–Ω–∫—Ü–∏—é string.split (–∏–ª–∏ –µ—ë –ø—Å–µ–≤–¥–æ–Ω–∏–º strsplit). –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—é. –ù–∞–ø—Ä–∏–º–µ—Ä:

    string.split(" ", "1 + 3 * 5")

  –†–∞–∑–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã: "1", "+", "3", "*", "5".

  –ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, —Å –ø–æ–º–æ—â—å—é —ç—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä. –û—Ç–∫—Ä–æ–π—Ç–µ WowLua –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–¥–¥–æ–Ω —Å Lua-—Ñ–∞–π–ª–æ–º. –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ç—ã—Ä–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞: —Å–ª–æ–∂–µ–Ω–∏–µ (+), –≤—ã—á–∏—Ç–∞–Ω–∏–µ (-), —É–º–Ω–æ–∂–µ–Ω–∏–µ (*) –∏ –¥–µ–ª–µ–Ω–∏–µ (/). –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –Ω–µ –±—É–¥–µ—Ç. –¢–æ –µ—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ 1 + 3 * 5 –≤–µ—Ä–Ω—ë—Ç 20, –∞ –Ω–µ 16.

  –°–∞–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ, –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º–æ–π —Å–∏–º–≤–æ–ª–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:

    local operators = {
      ["+"] = function(a, b) return a + b end,
      ["-"] = function(a, b) return a - b end,
      ["*"] = function(a, b) return a * b end,
      ["/"] = function(a, b) return a / b end
    }

  –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ —á–∏—Å–ª–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ü–æ—Å–∫–æ–ª—å–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –≤ –ø–æ—Ä—è–¥–∫–µ –ø–æ—è–≤–ª–µ–Ω–∏—è, –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ —Ç–æ–∫–µ–Ω–∞–º, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–º string.split:

    local function calculate(number1, ...)
      for i = 1, select("#", ...), 2 do
        local operator, number2 = select(i, ...)
        number1 = operators[operator](number1, number2)
      end
      
      return number1
    end

  üîπ –ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é number1. 
  üîπ –ó–∞—Ç–µ–º —Ü–∏–∫–ª –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏ —Å–ª–µ–¥—É—é—â–µ–µ —á–∏—Å–ª–æ, –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ number1.
  üîπ –î–∞–ª–µ–µ —Ü–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞—Ä—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä/—á–∏—Å–ª–æ, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏.

  –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ç–æ–∫–µ–Ω—ã –∏ –≤—ã–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:

    SLASH_SIMPLECALC1 = "/calculate"
    SLASH_SIMPLECALC2 = "/calc"
    SlashCmdList["SIMPLECALC"] = function(message)
      print(calculate(string.split(" ", message)))
    end

  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∞–¥–¥–æ–Ω, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:

      /calculate 1 + 3 * 5
    > 20

      /calc 3 * 2 + 4 / 5.5
    > 1.8181818181818

      /calc 4
    > 4

  –ö–æ–Ω–µ—á–Ω–æ, —Ç–∞–∫–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å —Å–≤–æ–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è. –ü–æ—Å–∫–æ–ª—å–∫—É —Å—Ç—Ä–æ–∫–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–±–µ–ª—É, –¥–∞–∂–µ –ª–∏—à–Ω–∏–π –ø—Ä–æ–±–µ–ª —Å–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –º–µ–∂–¥—É —Ç–æ–∫–µ–Ω–∞–º–∏. 
  –ù–∞–ø—Ä–∏–º–µ—Ä:

    /calculate 3 + 4
  > –û—à–∏–±–∫–∞: attempt to call field '?' (a nil value)

  –ò–∑-–∑–∞ –ª–∏—à–Ω–µ–≥–æ –ø—Ä–æ–±–µ–ª–∞ —Å—Ç—Ä–æ–∫–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã: "3", "", "+", "4". –§—É–Ω–∫—Ü–∏—è calculate –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏—é –ø–æ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—à–∏–±–∫–µ.

  –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –µ—Å–ª–∏ –ø—Ä–æ–±–µ–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:

    /calc 3+4 * 5
  > –û—à–∏–±–∫–∞: attempt to perform arithmetic on local 'a' (a string value)

  –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å—Ç—Ä–æ–∫–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "3+4", "*", "5", –∏ "3+4" –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —á–∏—Å–ª–æ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.

  –•–æ—Ç—è —ç—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–Ω–æ–≥–∏—Ö –∑–∞–¥–∞—á. –ü–æ–∑–∂–µ –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ –≤—ã —Å–Ω–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É ‚Äî –Ω–æ –≤ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –º–æ—â–Ω–æ–π —Ñ–æ—Ä–º–µ. –ê –ø–æ–∫–∞ –¥–∞–≤–∞–π—Ç–µ –Ω–µ–º–Ω–æ–≥–æ —É–ø—Ä–æ—Å—Ç–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.

"üìò –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é —à–∞–±–ª–æ–Ω–æ–≤ (–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)"

  –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ ‚Äî —ç—Ç–æ —Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø–æ—Å–≤—è—Ç–∏—Ç—å —Ü–µ–ª—É—é –∫–Ω–∏–≥—É. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫, –∏ –≤—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∞–≤–∏–ª. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤.

  –•–æ—Ç—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ —ç—Ç–æ–π –∫–Ω–∏–≥–∏, –º—ã –º–æ–∂–µ–º –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—ë–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Lua.

  –í –≥–ª–∞–≤–µ 6 –≤—ã —É–∂–µ –≤–∏–¥–µ–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã Lua, –ø–æ–∑–≤–æ–ª—è—é—â–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ. –¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö, —á—Ç–æ–±—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞.
"üìò –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ (–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤)"

  –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–∞–Ω–¥. –§–æ—Ä–º–∞—Ç –¥–ª—è —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

    number [ operator number [ operator number [ ... ] ]

  –≠—Ç–æ –∑–∞–¥–∞—ë—Ç –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä—É—é —Å–ª–µ–¥—É–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å –ø—Ä–∏ —Ä–∞–∑–±–æ—Ä–µ —Å—Ç—Ä–æ–∫–∏. –ü–æ–∑–∂–µ –≤—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞, —Å–ª–µ–¥—É—è –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–º—É —à–∞–±–ª–æ–Ω—É.

  –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—Å–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–¥–∏–Ω –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö —Å–∏–º–≤–æ–ª–æ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤. –ß–∏—Å–ª–∞ ‚Äî –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ:

  [–∑–Ω–∞–∫][—Ü–∏—Ñ—Ä—ã][–¥–µ—Å—è—Ç–∏—á–Ω–∞—è —Ç–æ—á–∫–∞]—Ü–∏—Ñ—Ä—ã

  –ò—Å—Ö–æ–¥—è –∏–∑ —ç—Ç–æ–≥–æ, –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ß—Ç–æ–±—ã –∫–æ–¥ –æ—Å—Ç–∞–≤–∞–ª—Å—è –≥–∏–±–∫–∏–º, –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –±—É–¥–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–∫–∞—Ç—å –æ–¥–∏–Ω –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –µ—Å—Ç—å –ª–∏ –æ–Ω –≤ —Å–ø–∏—Å–∫–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —à–∞–±–ª–æ–Ω –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–æ—á–∫–∞ (.) ‚Äî —Å–∏–º–≤–æ–ª "–ª—é–±–æ–π –æ–¥–∏–Ω".

  –í —Ç–∞–±–ª–∏—Ü–µ –Ω–∏–∂–µ –ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ–¥—à–∞–±–ª–æ–Ω—ã, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏—Ç–æ–≥–æ–≤—ã–π —à–∞–±–ª–æ–Ω: [+-]?%d*%.?%d+ (—Å–º. –≥–ª–∞–≤—É 6 –¥–ª—è –¥–µ—Ç–∞–ª–µ–π).

  –ö–û–ú–ü–û–ù–ï–ù–¢ | –®–ê–ë–õ–û–ù
    sign (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)    ‚Äî [+-]?
    digits (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)  ‚Äî %d*
    decimal (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è) ‚Äî %.?
    digits (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)    ‚Äî %d+

  –¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤—ã—à–µ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:

    local NUMBER_PATTERN = "^%s*([+-]?%d*%.?%d+)"
    local OPERATOR_PATTERN = "^%s*(.)"
    local END_PATTERN = "^%s*$"

  –¢–∞–∫ –∫–∞–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–±–µ–ª–æ–≤ –º–µ–∂–¥—É —á–∏—Å–ª–∞–º–∏ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, –≤—ã –∑–∞–∫–ª—é—á–∞–µ—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω –≤ –∫—Ä—É–≥–ª—ã–µ —Å–∫–æ–±–∫–∏ (–¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞) –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–µ—Ä–µ–¥ –Ω–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –ø—Ä–æ–±–µ–ª—ã: %s*. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —à–∞–±–ª–æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ (^) ‚Äî –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Å—Ç—Ä–æ–∫–∏.

  –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª ^, —à–∞–±–ª–æ–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –ø—Ä–æ–¥–æ–ª–∂–∞—è –ø–æ–∏—Å–∫ –≤–∞–ª–∏–¥–Ω–æ–π —á–∞—Å—Ç–∏ –¥–∞–ª—å—à–µ –ø–æ —Å—Ç—Ä–æ–∫–µ.
  –ù–∞–ø—Ä–∏–º–µ—Ä:

    /calculate 5 + should error here 5
  > 10

  –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª—é—Å–∞, –∫–æ–¥ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω —á–∏—Å–ª–∞ –∫ —Å—Ç—Ä–æ–∫–µ "should error here 5". –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ (^), Lua –Ω–∞–π–¥—ë—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –∫–æ–Ω—Ü–µ ‚Äî " 5", –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–≤ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–ª–æ–≤–∞.

  –¢–∞–∫–∂–µ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω END_PATTERN ‚Äî –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∫–æ–Ω—Ü–µ –∫–æ–º–∞–Ω–¥—ã.

"üìò –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏"

  –û–¥–∏–Ω –∏–∑ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≥–ª—É–±–æ–∫–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫. –í –Ω–∞—à–µ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ –≤–æ–∑–º–æ–∂–Ω—ã –¥–≤–∞ —Ç–∏–ø–∞ –æ—à–∏–±–æ–∫: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ/–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –∏ –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä. 
  –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –æ—à–∏–±–æ–∫ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏:

    local NUMBER_ERROR = "No valid number at position %d"
    local OPERATOR_ERROR = "Unrecognized operator at position %d: '%s'"

  –û—à–∏–±–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥ errorState, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. 
  –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ñ—É–Ω–∫—Ü–∏–µ–π calculate:

    local errorState = false
    
    local function reportError(message)
    print(message)
    errorState = true
    end
    
  –¢–µ–ø–µ—Ä—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é calculate, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

    local function calculate(number1, ...)
      if errorState then
        return
      end

      for i = 1, select("#", ...), 2 do
        local operatorFunction, number2 = select(i, ...)
        number1 = operatorFunction(number1, number2)
      end

      return number1
    end

  –ï—Å–ª–∏ errorState —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ—Å—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç.

  –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–∞–º–æ–π —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ —Å–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º calculate –∏ –∑–∞–º–µ–Ω–∞ –≤—ã–∑–æ–≤–∞ string.split –Ω–∞ tokenize, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Å–∫–æ—Ä–æ –Ω–∞–ø–∏—à–µ—Ç–µ:

  SlashCmdList["SIMPLECALC"] = function(message)
    errorState = false
    print(calculate(tokenize(message)))
  end

"üìò –†–∞–∑–±–æ—Ä —Ñ–æ—Ä–º—É–ª—ã"

  –§–æ—Ä–º—É–ª—ã –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —á–∏—Å–ª–∞, –∞ –¥–∞–ª–µ–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä "–æ–ø–µ—Ä–∞—Ç–æ—Ä + —á–∏—Å–ª–æ". –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è tokenize —Å–Ω–∞—á–∞–ª–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ, –∞ –∑–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é getpairs, —á—Ç–æ–±—ã... –Ω—É... –ø–æ–ª—É—á–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–∞—Ä—ã.

  –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é tokenize –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º SlashCmdList, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

    local function tokenize(message)
      local _, finish, number = message:find(NUMBER_PATTERN)

      if not number then
        reportError(NUMBER_ERROR:format(1))
        return
      end

  –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç string.find, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –≤ —Ñ–æ—Ä–º—É–ª–µ (–Ω–∞–ø–æ–º–∏–Ω–∞–µ–º, –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ Lua –∏–º–µ–µ—Ç —Ç–∞–±–ª–∏—Ü—É string –∫–∞–∫ –º–µ—Ç–∞—Ç–∞–±–ª–∏—Ü—É). –ï—Å–ª–∏ —á–∏—Å–ª–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è reportError, –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ–∫—Ä–∞—â–∞–µ—Ç—Å—è.

  –ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å–ª–µ–¥—É—é—â–∏–º –∫–æ–¥–æ–º:

    finish = finish + 1

    if message:match(END_PATTERN, finish) == "" then
      return number
    else
      return number, getpairs(message, finish)
    end
  end

  –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è finish —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–∏–º–≤–æ–ª–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ–æ—Ä–º—É–ª–µ "102 + 5" –∑–Ω–∞—á–µ–Ω–∏–µ finish –±—É–¥–µ—Ç 3, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ü–∏—Ñ—Ä–µ 2 –≤ 102. –î–∞–ª–µ–µ –º—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ finish –Ω–∞ 1, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å—Ç–∞–≤—à–µ–π—Å—è —á–∞—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏.

  –ó–∞—Ç–µ–º –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —à–∞–±–ª–æ–Ω—É END_PATTERN, –Ω–∞—á–∏–Ω–∞—è —Å –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏. –ï—Å–ª–∏ –æ—Å—Ç–∞—Ç–æ–∫ –ø—É—Å—Ç (—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–∏—Å–ª–æ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ getpairs, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–∑–±–µ—Ä—ë—Ç –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ç—Ä–æ–∫–∏.
  –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é getpairs –≤—ã—à–µ tokenize:

  local function getpairs(message, start)
    local _, operatorFinish, operator = message:find(OPERATOR_PATTERN, start)
    local operatorFunction = operators[operator]

    if not operatorFunction then
      reportError(OPERATOR_ERROR:format(start, operator))
    return
  end

  –ö–∞–∫ –≤–∏–¥–Ω–æ, –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ç–∞–∫–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.
  –¢–µ–ø–µ—Ä—å –∏—â–µ–º —Å–ª–µ–¥—É—é—â–µ–µ —á–∏—Å–ª–æ ‚Äî –Ω–∞—á–∏–Ω–∞—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞:

    operatorFinish = operatorFinish + 1
    local _, numberFinish, number = message:find(NUMBER_PATTERN, operatorFinish)

    if not number then
      reportError(NUMBER_ERROR:format(operatorFinish))
      return
    end

  –ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ tokenize:

    numberFinish = numberFinish + 1
    if message:match(END_PATTERN, numberFinish) then
      return operatorFunction, number
    else
      return operatorFunction, number, getpairs(message, numberFinish)
    end
  end

  –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ, —á—Ç–æ –ø—Ä–µ–∂–Ω–∏–µ –æ—à–∏–±–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç, –∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ –æ—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:

    /calculate 3 + 4
  > 7

    /calc 3+4 * 5
  > 35

    /calc 3+ 4 +
  > No valid number at position 7

    /calc 3 + 4 & 9
  > Unrecognized operator at position 7: '&'

"üìò –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–∞–Ω–¥"

  –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–¥–¥–æ–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –æ–¥–Ω—É —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–æ–º–∞–Ω–¥. –ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–¥–æ–Ω–∞ Omen, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞:

    /omen gui show

  –¢–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–æ–º–∞–Ω–¥. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∑–¥–µ—Å—å –ø–∞—Ä—Å–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π:

    üîπ –ö–ª—é—á–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥;
    üîπ –ó–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å:
      üîπ —Å—Ç—Ä–æ–∫–æ–π ‚Äî –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è,
      üîπ —Ñ—É–Ω–∫—Ü–∏–µ–π ‚Äî –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –æ—Å—Ç–∞–≤—à–µ–π—Å—è —á–∞—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç,
      üîπ –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ–π ‚Äî –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ, –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∫–æ–º–∞–Ω–¥.

  –ï—Å–ª–∏ –Ω—É–∂–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø–∞—Ä—Å–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ "help" –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ–≥–æ, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ.
  –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–¥–¥–æ–Ω —Å –æ–¥–Ω–∏–º Lua-—Ñ–∞–π–ª–æ–º –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É –∫–æ–º–∞–Ω–¥:

    local testCommandTable = {
      ["gui"] = {
        ["width"] = function(width)
          print("Setting width to", width)
        end,
        ["height"] = function(height)
          print("Setting height to", height)
        end,
        ["show"] = function()
          print("Showing")
        end,
        ["hide"] = function()
          print("Hiding")
        end,
        ["help"] = "GUI commands: width <width>, height <height>, show, hide"
      },
      ["data"] = {
        ["load"] = function(profile)
          print("Loading profile:", profile)
        end,
        ["save"] = function(profile)
          print("Saving profile:", profile)
        end,
        ["reset"] = function()
          print("Resetting to default")
        end,
        ["help"] = "Data commands: load <profile>, save <profile>, reset"
      },
      ["help"] = "CommandTable commands: gui, data"
    }

  –ö–∞–∫ –≤–∏–¥–∏—Ç–µ, —ç—Ç–æ –æ—á–µ–Ω—å –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–∏—Å–∞—Ç—å —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –¥–µ–π—Å—Ç–≤–∏–π ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –¥–≤–∏–∂–æ–∫ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤.
  –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –Ω–∞—á–Ω–∏—Ç–µ —Å —ç—Ç–æ–≥–æ –∫–æ–¥–∞:

    local function DispatchCommand(message, commandTable)
      local command, parameters = string.split(" ", message, 2)
      local entry = commandTable[command:lower()]
      local which = type(entry)

  –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É message –ø–æ –ø–µ—Ä–≤–æ–º—É –ø—Ä–æ–±–µ–ª—É. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç 2, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ string.split –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –º–∞–∫—Å–∏–º—É–º –¥–≤–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–±–∏–µ–Ω–∏–π.

  –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–∞–Ω–¥, –∞ –∑–∞—Ç–µ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ–≥–æ —Ç–∏–ø. –û—Å—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–ø–∏—Å–∞–Ω–Ω–æ–µ –≤—ã—à–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

      if which == "function" then
        entry(parameters)
      elseif which == "table" then
        DispatchCommand(parameters or "", entry)
      elseif which == "string" then
        print(entry)
      elseif message ~= "help" then
        DispatchCommand("help", commandTable)
      end
    end

  –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–∏–≤—è–∑–∞—Ç—å –≤—Å—ë —ç—Ç–æ –∫ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥–µ:

    SLASH_COMMANDTABLE1 = "/commandtable"
    SLASH_COMMANDTABLE2 = "/cmdtbl"
    SlashCmdList["COMMANDTABLE"] = function(message)
      DispatchCommand(message, testCommandTable)
    end

  –í—Å–µ–≥–æ 21 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞ ‚Äî –∏ —É –≤–∞—Å —É–∂–µ –≥–æ—Ç–æ–≤ –º–æ—â–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

  –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞:

      /cmdtbl gui show
    > Showing

      /commandtable data
    > Data commands: load <profile>, save <profile>, reset

      /cmdtbl GUI Width 13
    > Setting width to 13

"üìò –ò—Ç–æ–≥–∏"

  –í —ç—Ç–æ–π –≥–ª–∞–≤–µ –≤—ã —É–∑–Ω–∞–ª–∏ –æ—Å–Ω–æ–≤—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ –∏ –Ω–∞—É—á–∏–ª–∏—Å—å –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–µ –∫–æ–º–∞–Ω–¥—ã. –í—ã —Ç–∞–∫–∂–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —Ä—è–¥–æ–º –ø—Ä–∏—ë–º–æ–≤ –∏ —Ö–∏—Ç—Ä–æ—Å—Ç–µ–π, –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –∏ —á–∏—Å—Ç—ã–º.

  –°–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã ‚Äî —ç—Ç–æ –Ω–µ —Å–∞–º–∞—è —ç—Ñ—Ñ–µ–∫—Ç–Ω–∞—è —á–∞—Å—Ç—å –∞–¥–¥–æ–Ω–∞, –∏ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫—Ä—É–≥–∞—Ö –∫ –Ω–∏–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Å –ø—Ä–µ–Ω–µ–±—Ä–µ–∂–µ–Ω–∏–µ–º, –Ω–æ –Ω–∞ –¥–µ–ª–µ –æ–Ω–∏ –º–æ—â–Ω—ã–µ, –≥–∏–±–∫–∏–µ –∏, –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ.

  –û–¥–Ω–∏–º –∏–∑ —Å–∏–ª—å–Ω–µ–π—à–∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –º–∞–∫—Ä–æ—Å–∞—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥—Ä–æ–∫–∞–º –∏–∑–º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã "–Ω–∞ –ª–µ—Ç—É", –ø—Ä–∏–≤—è–∑—ã–≤–∞—è —Ç–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∫ –∫–Ω–æ–ø–∫–∞–º –Ω–∞ –ø–∞–Ω–µ–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π.